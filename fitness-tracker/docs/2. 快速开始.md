# 快速开始

本文档详细说明了如何快速启动和运行Fitness Tracker应用。

## 环境要求

- Node.js >= 14.x
- Docker & Docker Compose (推荐)
- MySQL 8.0 (如果不使用Docker)

## 安装步骤

### 1. 克隆项目仓库
```bash
git clone <repository-url>
```

### 2. 安装前端依赖
```bash
cd frontend
npm install
```

### 3. 安装后端依赖
```bash
cd ../backend
npm install
```

## 本地开发

### 启动开发服务器

前端:
```bash
cd frontend
npm run dev
```

后端:
```bash
cd backend
npm run dev
```

默认情况下，前端运行在 http://localhost:3000，后端API运行在 http://localhost:3001

### 环境变量配置

在 `backend/.env` 文件中配置：
```env
NODE_ENV=development
PORT=3001
JWT_SECRET=your_jwt_secret_key

# MySQL Configuration
MYSQL_HOST=localhost
MYSQL_PORT=3306
MYSQL_USER=your_mysql_user
MYSQL_PASSWORD=your_mysql_password
MYSQL_DATABASE=fitnessTracker
```

## Docker化部署

### 使用Docker Compose一键部署

项目已完全Docker化，可以通过Docker Compose一键部署整个应用。

#### 生产环境部署

```bash
# 构建并启动所有服务
docker-compose up -d

# 查看服务状态
docker-compose ps

# 停止所有服务
docker-compose down
```

#### 开发环境部署

```bash
# 构建并启动开发环境
docker-compose -f docker-compose.dev.yml up -d

# 查看服务状态
docker-compose -f docker-compose.dev.yml ps

# 停止所有服务
docker-compose -f docker-compose.dev.yml down
```

## 验证应用运行

### 1. 访问前端界面
打开浏览器访问 `http://localhost:3000`，应该能看到应用主页。

### 2. 测试API接口
使用curl或Postman测试后端API：
```bash
# 测试API根路径
curl http://localhost:3001/

# 注册新用户
curl -X POST http://localhost:3001/api/auth/register \
  -H "Content-Type: application/json" \
  -d '{"name":"Test User","email":"test@example.com","password":"password123"}'

# 用户登录
curl -X POST http://localhost:3001/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"email":"test@example.com","password":"password123"}'
```

## 常见问题及解决方案

### 1. 端口被占用
如果默认端口被占用，可以修改配置：
- 前端：修改 `frontend/vite.config.ts` 中的端口号
- 后端：修改 `backend/.env` 中的PORT值

### 2. 数据库连接失败
- 确保MySQL服务正在运行
- 检查 `backend/.env` 中的数据库配置
- 确保防火墙没有阻止MySQL端口(默认3306)

### 3. 依赖安装失败
- 清除npm缓存：`npm cache clean --force`
- 删除node_modules目录和package-lock.json文件后重新安装
- 使用cnpm或yarn作为替代包管理器

### 4. 前端页面空白或报错
- 检查浏览器控制台错误信息
- 确保后端API服务正在运行
- 检查前端环境变量配置